doctype html
html(lang="fr")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title #{product.denomination_medicament} - Détails du médicament
    link(rel="stylesheet", href="/css/style.css")
    link(rel="stylesheet", href="/css/product.css")
    link(rel="stylesheet", href="https://site-assets.fontawesome.com/releases/v6.5.1/css/all.css")

  body
    .product-container
      .product-header
        a.back-button(href="/") 
          i.fa-light.fa-arrow-left
          span Retour à la recherche
        h1.product-title= product.denomination_medicament
        .product-subtitle
          if product.active_ingredients
            a.product-category(href="#")= product.active_ingredients.toUpperCase()

      .product-content
        .main-content
          .presentations-section
            h2.section-title Présentations
            if product.cip_products && product.cip_products.length > 0
              .cip-list
                each cip in product.cip_products
                  .cip-item
                    p= `${cip.code_cip7} - ${cip.libelle_presentation}`

          if product.incidents && product.incidents.length > 0
            .incidents-section
              h2.section-title État de disponibilité
              .incidents-list
                each incident in product.incidents
                  .incident-item
                    .incident-header
                      .incident-status(class=`status-${incident.status.toLowerCase()}`)
                        i.fa-light.fa-circle-exclamation
                        span= incident.status
                      .incident-dates
                        if incident.start_date
                          .date-item
                            i.fa-light.fa-calendar-day
                            span.date-label Début:
                            span.date-value= new Date(incident.start_date).toLocaleDateString('fr-FR')
                        if incident.end_date
                          .date-item
                            i.fa-light.fa-calendar-check
                            span.date-label Fin:
                            span.date-value= new Date(incident.end_date).toLocaleDateString('fr-FR')
                    .incident-content
                      if incident.original_specialite
                        .incident-detail
                          span.detail-label Spécialité:
                          span.detail-value= incident.original_specialite


          .other-info-section
            h2.section-title Autres informations
            .info-grid
              .info-item
                h3 Titulaire de l'autorisation de mise sur le marché (AMM)
                p= product.titulaires

